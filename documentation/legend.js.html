<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: legend.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: legend.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";

/**
* Classe permettant de gérer les légendes: les créer dynamiquement, les ajouter et les supprimer
*/
class LegendManager {

  /**
  * Le constructeur de la classe Legend qui créé le contenant pour les légendes
  *
  * @param  {DivHTML} legendContainer l'élément HTML dans lequel mettre les légendes, ici le left-pane
  */
  constructor(legendContainer){
    this.legendContainer = legendContainer;
  }

  /**
  * Permet d'ajouter une légende
  *
  * @param  {String} titre Le titre qu'on donne à la légende
  * @param  {String} id Le nom qu'on donne à la légende
  * @param  {Map} values la variable map qui contient les couleurs et leur valeur associée
  * @param  {String} choice prend la valeur point, line ou polygon, permet de différencier l'affichage des légendes
  * @param  {String} options.symbol le symbole à utiliser pour les légendes ponctuelles
  * @param  {String} options.couleurContour la couleur à mettre autour de la couleur de la légende
  */
  addLegend(titre, id, values, choice, options = {}){
    let legend = document.createElement('div');
    legend.id = id;
    legend.classList.add('legend');
    legend.classList.add('backdrop');

    let textTitre = document.createElement('div');
    textTitre.classList.add('legend-text');
    textTitre.innerHTML = titre;

    let titreLegend = document.createElement('div');
    titreLegend.classList.add('legend-element');
	  titreLegend.appendChild(textTitre);
    legend.appendChild(titreLegend);

    Object.keys(values).forEach((key) => {
      legend.appendChild(this.makeLegendItem(key, values[key], choice, {
        borderColor: options.couleurContour
      }));
    });

    this.legendContainer.appendChild(legend);
  }

  /**
  * Permet de supprimer une légende
  *
  * @param  {String} id Le nom de la légende à retirer
  */
  removeLegend(id){
    let legend = this.legendContainer.querySelector('#' + id);
    legend.parentElement.removeChild(legend);
  }

  /**
  * Permet de vérifier si une légende existe
  *
  * @param  {String} id Le nom de la légende à tester
  * @return {Boolean} true si la légende existe, false sinon
  */
  hasLegend(id){
    return this.legendContainer.querySelectorAll('#' + id).length != 0;
  }

  /**
  * Créé les éléments HTML pour l'affichage de la légende
  *
  * @param  {String} label le texte à mettre dans la légende
  * @param  {String} color la couleur à mettre dans légende
  * @param  {String} choice prend la valeur point, line ou polygon, permet de différencier l'affichage des légendes
  * @param  {String} options.borderColor la couleur à mettre autour de la couleur de la légende
  * @return {Object} l'objet HTML dans lequel la légende est créée
  */
  makeLegendItem(label, color, choice, options = {}){
    let legendColor = document.createElement('span');
    if(choice === 'ligne'){
      legendColor.classList.add('legend-line');
      legendColor.style = "background-color: " + color + ";";
    } else if(choice === 'surface') {
      legendColor.classList.add('legend-color');

      if(options.borderColor != undefined) {
        legendColor.style = "border: 3px solid " + options.borderColor + "; background-color: " + color + ";";
      } else {
        legendColor.style = "background-color: " + color + ";";
      }

    } else if(choice === 'point') {
      legendColor.classList.add('legend-symbol');
      legendColor.innerHTML = color;
    }

    let legendText = document.createElement('div');
    legendText.classList.add('legend-text');
    legendText.innerHTML = label;

    let item = document.createElement('div');
    item.classList.add('legend-element');
    item.appendChild(legendColor);
    item.appendChild(legendText);

    return item;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Data.html">Data</a></li><li><a href="Geocoder.html">Geocoder</a></li><li><a href="Globe.html">Globe</a></li><li><a href="LegendManager.html">LegendManager</a></li><li><a href="Menu.html">Menu</a></li><li><a href="Raf09.html">Raf09</a></li><li><a href="TableauAttribut.html">TableauAttribut</a></li><li><a href="Tile.html">Tile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Oct 29 2020 15:37:03 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
